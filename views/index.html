<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>21-IDUM ‚Äî –ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–∞—è —à–∫–æ–ª–∞ –≤ –§–µ—Ä–≥–∞–Ω–µ | –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–∏—Ä–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è</title>
    <meta name="description"
        content="–®–∫–æ–ª–∞ 21-IDUM –≤ –§–µ—Ä–≥–∞–Ω–µ ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, STEM-–∫–ª–∞—Å—Å—ã, –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ–¥–∞–≥–æ–≥–∏, –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –æ–±—É—á–µ–Ω–∏—è. –ó–∞–ø–∏—Å—å –æ—Ç–∫—Ä—ã—Ç–∞!" />
    <meta name="keywords"
        content="—à–∫–æ–ª–∞ –§–µ—Ä–≥–∞–Ω–∞, 21-IDUM, –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, STEM, —Ä–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω–∏–∫–∞, —á–∞—Å—Ç–Ω–∞—è —à–∫–æ–ª–∞, –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://school-21.uz/" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://school-21.uz/" />
    <meta property="og:title" content="21-IDUM ‚Äî –ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–∞—è —à–∫–æ–ª–∞ –≤ –§–µ—Ä–≥–∞–Ω–µ" />
    <meta property="og:description"
        content="–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–∏—Ä–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è. STEM-–∫–ª–∞—Å—Å—ã, —Ä–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω–∏–∫–∞, –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ–¥–∞–≥–æ–≥–∏. –ó–∞–ø–∏—Å—å –æ—Ç–∫—Ä—ã—Ç–∞!" />
    <meta property="og:image" content="https://school-21.uz/images/logo.png" />
    <meta property="og:locale" content="ru_RU" />
    <meta property="og:locale:alternate" content="uz_UZ" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://school-21.uz/" />
    <meta name="twitter:title" content="21-IDUM ‚Äî –ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–∞—è —à–∫–æ–ª–∞ –≤ –§–µ—Ä–≥–∞–Ω–µ" />
    <meta name="twitter:description"
        content="–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–∏—Ä–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è. STEM-–∫–ª–∞—Å—Å—ã, —Ä–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω–∏–∫–∞, –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ–¥–∞–≥–æ–≥–∏." />
    <meta name="twitter:image" content="https://school-21.uz/images/logo.png" />

    <!-- Alternate languages -->
    <link rel="alternate" hreflang="ru" href="https://school-21.uz/?lang=ru" />
    <link rel="alternate" hreflang="uz" href="https://school-21.uz/?lang=uz" />
    <link rel="alternate" hreflang="x-default" href="https://school-21.uz/" />

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" type="image/png" href="images/logo.png" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- JSON-LD Structured Data: Organization -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "EducationalOrganization",
      "name": "21-IDUM",
      "alternateName": "–®–∫–æ–ª–∞ 21-IDUM",
      "url": "https://school-21.uz",
      "logo": "https://school-21.uz/images/logo.png",
      "description": "–ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–∞—è —à–∫–æ–ª–∞ –≤ –§–µ—Ä–≥–∞–Ω–µ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏, STEM-–∫–ª–∞—Å—Å–∞–º–∏ –∏ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–º–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º–∏ –æ–±—É—á–µ–Ω–∏—è",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "—É–ª. –ö–æ–∫–∞–Ω–¥—Å–∫–∞—è, 56",
        "addressLocality": "–§–µ—Ä–≥–∞–Ω–∞",
        "addressCountry": "UZ"
      },
      "contactPoint": {
        "@type": "ContactPoint",
        "telephone": "+998-77-453-55-50",
        "contactType": "Admissions",
        "email": "info@21idum.uz",
        "availableLanguage": ["Russian", "Uzbek"]
      },
      "sameAs": [
        "https://t.me/school21idum",
        "https://instagram.com/21idum",
        "https://facebook.com/21idum"
      ]
    }
    </script>
</head>

<body>
    <!-- Page Loader -->
    <div id="pageLoader" class="page-loader">
        <div class="loader-content">
            <div class="loader-logo">21-<span>IDUM</span></div>
            <div class="loader-spinner"></div>
        </div>
    </div>

    <!-- Navbar -->
    <nav class="navbar">
        <div class="navbar-container container">
            <a href="/" class="logo">21-<span>IDUM</span></a>
            <ul class="nav-links" id="navLinks">
                <li><a href="/" class="active">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="/about">–û —à–∫–æ–ª–µ</a></li>
                <li><a href="/schedule">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</a></li>
                <li><a href="/calendar">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</a></li>
                <li><a href="/gallery">–ì–∞–ª–µ—Ä–µ—è</a></li>
                <li><a href="/news">–ù–æ–≤–æ—Å—Ç–∏</a></li>
                <li><a href="/team">–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏</a></li>
                <li><a href="/faq">FAQ</a></li>
            </ul>
            <button class="language-switch" id="languageSwitch">–†—É—Å—Å–∫–∏–π</button>
            <div class="burger-menu" id="burgerMenu">
                <div class="burger-line"></div>
                <div class="burger-line"></div>
                <div class="burger-line"></div>
            </div>
        </div>
    </nav>

    <!-- Hero Static -->
    <section class="hero-static" aria-label="–û —à–∫–æ–ª–µ">
        <div class="hero-static__bg"></div>
        <div class="container hero-static__content">
            <div class="hero-static__text">
                <p class="hero-static__kicker">–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∫–æ–ª–∞ ‚Ññ21</p>
                <h1 class="hero-static__title">–£—á–∏. –¢–≤–æ—Ä–∏. –î–µ–ª–∞–π.</h1>
                <p class="hero-static__subtitle">–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–∞–±–∏–Ω–µ—Ç—ã, —Å–∏–ª—å–Ω—ã–µ —É—á–∏—Ç–µ–ª—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∞–ª–∞–Ω—Ç–æ–≤ —Å –ø–µ—Ä–≤–æ–≥–æ
                    –∫–ª–∞—Å—Å–∞.</p>
                <div class="hero-static__actions">
                    <a class="hero-static__btn" href="/about">–û —à–∫–æ–ª–µ</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats -->
    <section class="stats" id="about">
        <div class="container">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="studentsCount">2496</div>
                    <div class="stat-label">–£—á–∞—â–∏—Ö—Å—è</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="teachersCount">117</div>
                    <div class="stat-label">–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="classesCount">73</div>
                    <div class="stat-label">–ö–ª–∞—Å—Å–æ–≤ (1-11)</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Charts -->
    <section class="charts">
        <div class="container">
            <h2 class="section-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —à–∫–æ–ª—ã</h2>
            <div class="charts-container">
                <div class="chart-card">
                    <h3 class="chart-title">–£—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç—å –ø–æ —á–µ—Ç–≤–µ—Ä—Ç—è–º</h3>
                    <div class="chart-container"><canvas id="lineChart"></canvas></div>
                </div>
                <div class="chart-card">
                    <h3 class="chart-title">–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫</h3>
                    <div class="chart-container"><canvas id="pieChart"></canvas></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Announcements -->
    <section class="announcements" id="announcements">
        <div class="container">
            <h2 class="section-title">–í–∞–∂–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è</h2>
            <div class="announcements-grid" id="announcementsGrid"></div>
            <div class="announcements-loading" id="announcementsLoading" style="margin-top: 12px;">–ó–∞–≥—Ä—É–∑–∫–∞
                –æ–±—ä—è–≤–ª–µ–Ω–∏–π...</div>
            <div class="announcements-actions" style="margin-top: 16px;">
                <a href="/news" class="announcement-link" aria-label="–í—Å–µ –≤–∞–∂–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è">–í—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è ‚Üí</a>
            </div>
        </div>
    </section>

    <!-- Home Events -->
    <section class="home-events" id="events">
        <div class="container">
            <div class="home-events-header">
                <h2 class="section-title">–ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ —Å–æ–±—ã—Ç–∏—è</h2>
                <a class="announcement-link" href="/schedule" aria-label="–í—Å–µ —Å–æ–±—ã—Ç–∏—è">–í—Å–µ —Å–æ–±—ã—Ç–∏—è ‚Üí</a>
            </div>
            <div class="home-events-grid" id="homeEventsList"></div>
            <div class="home-events-loading" id="homeEventsLoading">–ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ–±—ã—Ç–∏–π...</div>
        </div>
    </section>

    <!-- Contact & Map -->
    <section class="contact" id="contact">
        <div class="container">
            <div class="contact-header">
                <h2 class="section-title">–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</h2>
                <p class="contact-sub">–û—Å—Ç–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –Ω–∞—Å –Ω–∞ –∫–∞—Ä—Ç–µ</p>
            </div>
            <div class="contact-grid">
                <div class="form-container">
                    <form id="contactForm">
                        <div class="form-group">
                            <label for="name" class="form-label">–ò–º—è</label>
                            <input type="text" id="name" class="form-input" required />
                        </div>
                        <div class="form-group">
                            <label for="email" class="form-label">Email</label>
                            <input type="email" id="email" class="form-input" required />
                        </div>
                        <div class="form-group">
                            <label for="message" class="form-label">–°–æ–æ–±—â–µ–Ω–∏–µ</label>
                            <textarea id="message" class="form-textarea" required></textarea>
                        </div>
                        <button type="submit" class="submit-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                    </form>
                </div>
                <div class="map-container contact-map">
                    <div class="map-placeholder" style="height: 100%;">
                        <iframe
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1518.444573224244!2d71.76306641646347!3d40.43345347833234!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x38bb82cb402f5d71%3A0x86a40294d27eef27!2z0KHQv9C10YbQuNCw0LvQuNC30LjRgNC-0LLQsNC90L3QsNGPLiDQqNC60L7Qu9CwIC7ihJYyMS4!5e0!3m2!1sru!2s!4v1765255410362!5m2!1sru!2s"
                            width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Social Media -->
    <section class="social-media" id="social">
        <div class="container">
            <h2 class="section-title">–ú—ã –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö</h2>
            <p class="social-intro">–°–ª–µ–¥–∏—Ç–µ –∑–∞ –Ω–æ–≤–æ—Å—Ç—è–º–∏ –∏ —Å–æ–±—ã—Ç–∏—è–º–∏ —à–∫–æ–ª—ã</p>
            <div class="social-links-minimal">
                <a href="https://t.me/school21_uz" target="_blank" class="social-link telegram" aria-label="Telegram">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
                        <path fill="currentColor"
                            d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2m4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19c-.14.75-.42 1-.68 1.03c-.58.05-1.02-.38-1.58-.75c-.88-.58-1.38-.94-2.23-1.5c-.99-.65-.35-1.01.22-1.59c.15-.15 2.71-2.48 2.76-2.69a.2.2 0 0 0-.05-.18c-.06-.05-.14-.03-.21-.02c-.09.02-1.49.95-4.22 2.79c-.4.27-.76.41-1.08.4c-.36-.01-1.04-.2-1.55-.37c-.63-.2-1.12-.31-1.08-.66c.02-.18.27-.36.74-.55c2.92-1.27 4.86-2.11 5.83-2.51c2.78-1.16 3.35-1.36 3.73-1.36c.08 0 .27.02.39.12c.1.08.13.19.14.27c-.01.06.01.24 0 .38" />
                    </svg>
                    <span>Telegram</span>
                </a>
                <a href="https://www.instagram.com/21school_fergana/" target="_blank" class="social-link instagram"
                    aria-label="Instagram">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
                        <path fill="currentColor"
                            d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4zm9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8A1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5a5 5 0 0 1-5 5a5 5 0 0 1-5-5a5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3a3 3 0 0 0 3 3a3 3 0 0 0 3-3a3 3 0 0 0-3-3" />
                    </svg>
                    <span>Instagram</span>
                </a>
                <a href="https://facebook.com/your_school" target="_blank" class="social-link facebook"
                    aria-label="Facebook">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
                        <path fill="currentColor"
                            d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95" />
                    </svg>
                    <span>Facebook</span>
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>21-IDUM</h3>
                    <p>–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç –æ–±—â–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π —à–∫–æ–ª—ã ‚Ññ21.</p>
                </div>
                <div class="footer-column">
                    <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                    <ul class="footer-links">
                        <li>+998 (77) 453-55-50</li>
                        <li>info@21idum.uz</li>
                        <li>–≥. –§–∞—Ä–≥–æ–Ω–∞, —É–ª. –ö–æ–∫–∞–Ω–¥—Å–∫–∞—è, 56</li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h3>
                    <ul class="footer-links">
                        <li><a href="/">–ì–ª–∞–≤–Ω–∞—è</a></li>
                        <li><a href="/about">–û —à–∫–æ–ª–µ</a></li>
                        <li><a href="/schedule">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</a></li>
                        <li><a href="/news">–ù–æ–≤–æ—Å—Ç–∏</a></li>
                        <li><a href="/faq">FAQ</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p class="footer-credit">–°–∞–π—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –∫–æ–º–∞–Ω–¥–æ–π <a href="/team">IDUM Dev</a></p>
                <p>¬© 2025 21-IDUM. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </div>
    </footer>

    <script>
        // Hide loader after page is fully loaded
        window.addEventListener('load', function () {
            const loader = document.getElementById('pageLoader');
            setTimeout(() => {
                loader.classList.add('hidden');
            }, 500); // Small delay for smooth transition
        });

        document.addEventListener('DOMContentLoaded', function () {
            const languageSwitch = document.getElementById('languageSwitch');
            const navLinks = document.querySelectorAll('.nav-links a');
            const sectionTitles = document.querySelectorAll('.section-title');
            const statLabels = document.querySelectorAll('.stat-label');

            let currentLang = 'ru';
            languageSwitch.addEventListener('click', () => {
                if (currentLang === 'ru') { currentLang = 'uz'; languageSwitch.textContent = "O‚Äòzbekcha"; updateContentToUzbek(); }
                else { currentLang = 'ru'; languageSwitch.textContent = '–†—É—Å—Å–∫–∏–π'; updateContentToRussian(); }
            });

            function updateContentToUzbek() {
                navLinks[0].textContent = 'Bosh sahifa';
                navLinks[1].textContent = 'Maktab haqida';
                navLinks[2].textContent = 'Jadval';
                navLinks[3].textContent = 'Taqvim';
                navLinks[4].textContent = 'Galereya';
                navLinks[5].textContent = 'Yangiliklar';
                navLinks[6].textContent = 'Dasturchilar';
                navLinks[7].textContent = 'FAQ';
                sectionTitles[0].textContent = 'Maktab statistikasi';
                sectionTitles[1].textContent = 'Muhim e‚Äòlonlar';
                statLabels[0].textContent = "O‚Äòquvchilar";
                statLabels[1].textContent = "O‚Äòqituvchilar";
                statLabels[2].textContent = 'Sinf (1-11)';
                document.querySelector('.chart-title').textContent = "Choraklar bo‚Äòyicha o‚Äòqish sifati";
                document.querySelector('.charts-container .chart-card:nth-child(2) .chart-title').textContent = 'Baholar taqsimoti';
                document.querySelector('.footer-bottom p').textContent = '¬© 2025 21-IDUM. Barcha huquqlar himoya qilindi.';
            }
            function updateContentToRussian() {
                navLinks[0].textContent = '–ì–ª–∞–≤–Ω–∞—è';
                navLinks[1].textContent = '–û —à–∫–æ–ª–µ';
                navLinks[2].textContent = '–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ';
                navLinks[3].textContent = '–ö–∞–ª–µ–Ω–¥–∞—Ä—å';
                navLinks[4].textContent = '–ì–∞–ª–µ—Ä–µ—è';
                navLinks[5].textContent = '–ù–æ–≤–æ—Å—Ç–∏';
                navLinks[6].textContent = '–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏';
                navLinks[7].textContent = 'FAQ';
                sectionTitles[0].textContent = '–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —à–∫–æ–ª—ã';
                sectionTitles[1].textContent = '–í–∞–∂–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è';
                statLabels[0].textContent = '–£—á–∞—â–∏—Ö—Å—è';
                statLabels[1].textContent = '–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π';
                statLabels[2].textContent = '–ö–ª–∞—Å—Å–æ–≤ (1-11)';
                document.querySelector('.chart-title').textContent = '–£—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç—å –ø–æ —á–µ—Ç–≤–µ—Ä—Ç—è–º';
                document.querySelector('.charts-container .chart-card:nth-child(2) .chart-title').textContent = '–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫';
                document.querySelector('.footer-bottom p').textContent = '¬© 2025 21-IDUM. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.';
            }

            const burgerMenu = document.getElementById('burgerMenu');
            const navLinksContainer = document.getElementById('navLinks');
            burgerMenu.addEventListener('click', () => { burgerMenu.classList.toggle('active'); navLinksContainer.classList.toggle('active'); });
            navLinks.forEach(link => link.addEventListener('click', () => { burgerMenu.classList.remove('active'); navLinksContainer.classList.remove('active'); }));

            // Hero carousel removed

            // Initialize charts after DOM is ready
            function initCharts() {
                const lineCanvas = document.getElementById('lineChart');
                const pieCanvas = document.getElementById('pieChart');

                if (!lineCanvas || !pieCanvas) {
                    return;
                }

                const mlCtx = lineCanvas.getContext('2d');
                const years = ['2020/2021', '2021/2022', '2022/2023', '2023/2024', '2024/2025', '2025/2026'];
                const averageGrades = [4.1, 4.2, 3.0, 4.3, 4.4, 4.5];
                const studentCounts = [520, 545, 560, 590, 610, 640];
                const graduatesCount = [85, 90, 88, 92, 95, 100];

                new Chart(mlCtx, {
                    type: 'line', data: {
                        labels: years, datasets: [
                            { label: '–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª', data: averageGrades, borderColor: '#FFD700', backgroundColor: 'rgba(255,215,0,0.2)', borderWidth: 3, fill: true, tension: 0.3 },
                            { label: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–µ–Ω–∏–∫–æ–≤', data: studentCounts, borderColor: '#4CAF50', backgroundColor: 'rgba(76,175,80,0.2)', borderWidth: 3, fill: false, tension: 0.3, yAxisID: 'y1' },
                            { label: '–í—ã–ø—É—Å–∫–Ω–∏–∫–∏', data: graduatesCount, borderColor: '#2196F3', backgroundColor: 'rgba(33,150,243,0.2)', borderWidth: 3, fill: false, tension: 0.3, yAxisID: 'y1' }
                        ]
                    }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'top' } }, scales: { y: { beginAtZero: true, title: { display: true, text: '–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª' }, min: 0, max: 5 }, y1: { beginAtZero: true, position: 'right', title: { display: true, text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–µ–Ω–∏–∫–æ–≤' }, grid: { drawOnChartArea: false } } } }
                });

                new Chart(pieCanvas.getContext('2d'), { type: 'pie', data: { labels: ['–û—Ç–ª–∏—á–Ω–æ (5)', '–•–æ—Ä–æ—à–æ (4)', '–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ (3)', '–ù–µ—É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ (2)'], datasets: [{ data: [35, 45, 18, 2], backgroundColor: ['#4CAF50', '#FFD700', '#FF9800', '#F44336'], borderWidth: 0 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' } } } });
            }

            // Initialize charts
            initCharts();

            // Load latest announcements (top 3) via API
            async function loadAnnouncements() {
                const grid = document.getElementById('announcementsGrid');
                const loading = document.getElementById('announcementsLoading');
                if (!grid) return;
                try {
                    loading && (loading.style.display = 'block');
                    const resp = await fetch('/api/announcements?limit=3');
                    if (!resp.ok) {
                        throw new Error(`HTTP error! status: ${resp.status}`);
                    }
                    const data = await resp.json();
                    const items = Array.isArray(data) ? data : (data.items || []);
                    if (items.length === 0) {
                        grid.innerHTML = '<p style="text-align:center;color:#999;">–ù–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–π</p>';
                        return;
                    }
                    grid.innerHTML = '';
                    const typeIcons = { important: 'üì¢', event: 'üéâ', info: 'üìö', achievement: 'üèÜ', urgent: '‚ö†Ô∏è', competition: 'üéØ' };
                    items.forEach(item => {
                        const icon = typeIcons[item.type] || 'üì¢';
                        const badgeClass = `${item.type}-badge`;
                        const dateStr = new Date(item.date).toLocaleDateString('ru-RU', { day: '2-digit', month: 'long', year: 'numeric' });
                        const locationHtml = item.location ? `<span class="announcement-location">üìç ${item.location}</span>` : '';
                        const linkHtml = item.link ? `<a href="${item.link}" class="announcement-link">–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É ‚Üí</a>` : '';
                        grid.insertAdjacentHTML('beforeend', `
                        <div class="announcement-card ${item.type}">
                          <div class="announcement-icon">${icon}</div>
                          <div class="announcement-content">
                            <div class="announcement-badge ${badgeClass}">${item.type === 'important' ? '–í–∞–∂–Ω–æ' : item.type === 'event' ? '–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ' : item.type === 'info' ? '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è' : item.type === 'achievement' ? '–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ' : item.type === 'urgent' ? '–°—Ä–æ—á–Ω–æ' : '–ö–æ–Ω–∫—É—Ä—Å'}</div>
                            <h3 class="announcement-title">${item.title}</h3>
                            <p class="announcement-text">${item.text}</p>
                            <div class="announcement-meta">
                              <span class="announcement-date">üìÖ ${dateStr}</span>
                              ${locationHtml}
                              ${linkHtml}
                            </div>
                          </div>
                        </div>
                    `);
                    });
                } catch (err) {
                    grid.innerHTML = '<p style="color:#c00;text-align:center;">–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.</p>';
                } finally {
                    loading && (loading.style.display = 'none');
                }
            }
            // Load events for home page
            async function loadHomeEvents() {
                const list = document.getElementById('homeEventsList');
                const loading = document.getElementById('homeEventsLoading');
                if (!list) return;
                try {
                    if (loading) loading.style.display = 'block';
                    const resp = await fetch('/api/schedule/events?upcoming=true&limit=4');
                    if (!resp.ok) {
                        throw new Error(`HTTP error! status: ${resp.status}`);
                    }
                    const data = await resp.json();
                    const events = Array.isArray(data) ? data : (data.events || []);

                    if (!events.length) {
                        list.innerHTML = '<div class="home-events-empty">–ë–ª–∏–∂–∞–π—à–∏—Ö —Å–æ–±—ã—Ç–∏–π –Ω–µ—Ç</div>';
                        return;
                    }

                    list.innerHTML = events.map(evt => {
                        const date = new Date(evt.date);
                        const day = date.getDate().toString().padStart(2, '0');
                        const month = date.toLocaleDateString('ru-RU', { month: 'short' });
                        const title = evt.title_ru || evt.title_uz || '–°–æ–±—ã—Ç–∏–µ';
                        const time = evt.time ? `<span>‚è∞ ${evt.time}</span>` : '';
                        const location = evt.location_ru || evt.location_uz;
                        const locationHtml = location ? `<span>üìç ${location}</span>` : '';

                        return `
                        <div class="home-event-card">
                            <div class="home-event-date">
                                <div class="home-event-day">${day}</div>
                                <div class="home-event-month">${month}</div>
                            </div>
                            <div class="home-event-info">
                                <h3 class="home-event-title">${title}</h3>
                                <div class="home-event-meta">${time}${time && locationHtml ? ' ¬∑ ' : ''}${locationHtml}</div>
                            </div>
                        </div>
                    `;
                    }).join('');
                } catch (err) {
                    list.innerHTML = '<div class="home-events-empty">–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–æ–±—ã—Ç–∏—è. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å.</div>';
                } finally {
                    if (loading) loading.style.display = 'none';
                }
            }

            // –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
            loadAnnouncements();
            loadHomeEvents();

            const contactForm = document.getElementById('contactForm');
            contactForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const name = document.getElementById('name').value;
                const email = document.getElementById('email').value;
                const message = document.getElementById('message').value;
                const submitBtn = contactForm.querySelector('.submit-btn');
                const originalText = submitBtn.textContent;
                submitBtn.disabled = true;
                submitBtn.textContent = currentLang === 'ru' ? '–û—Ç–ø—Ä–∞–≤–∫–∞...' : 'Yuborilmoqda...';
                try {
                    const response = await fetch('/api/contact', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ name, email, message })
                    });
                    const result = await response.json();
                    if (response.ok && result.ok) {
                        alert(currentLang === 'ru' ? '‚úÖ –í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É!' : '‚úÖ Xabaringiz administratorga yuborildi!');
                        contactForm.reset();
                    } else {
                        throw new Error(result.error || '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏');
                    }
                } catch (error) {
                    alert(currentLang === 'ru' ? '‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.' : '‚ùå Xabar yuborishda xatolik. Iltimos, keyinroq urinib ko‚Äòring.');
                } finally { submitBtn.disabled = false; submitBtn.textContent = originalText; }
            });

            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) { e.preventDefault(); const target = document.querySelector(this.getAttribute('href')); if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' }); });
            });

        }); // End of DOMContentLoaded
    </script>
</body>

</html>